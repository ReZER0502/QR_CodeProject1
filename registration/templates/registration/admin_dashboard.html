<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="{% static 'img/logo.ico' %}" type="image/x-icon">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Admin Dashboard</title>
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
        :root {
            --c-gray-900: #000000;
            --c-gray-800: #1f1f1f;
            --c-gray-700: #2e2e2e;
            --c-gray-600: #313131;
            --c-gray-500: #969593;
            --c-gray-400: #a6a6a6;
            --c-gray-300: #bdbbb7;
            --c-gray-200: #f1f1f1;
            --c-gray-100: #ffffff;

            --c-green-500: #45ffbc;
            --c-olive-500: #e3ffa8;

            --c-white: var(--c-gray-100);

            --c-text-primary: var(--c-gray-100);
            --c-text-secondary: var(--c-gray-200);
            --c-text-tertiary: var(--c-gray-500);
        }

        body {
            line-height: 1.5;
            min-height: 100vh;
            font-family: "Be Vietnam Pro", sans-serif;
            background-color: var(--c-gray-900);
            color: var(--c-text-primary);
            display: flex;
            padding-top: 3vw;
            padding-bottom: 3vw;
            justify-content: center;
        }

        *,
        *:before,
        *:after {
            box-sizing: border-box;
        }

        img {
            display: block;
            max-width: 100%;
        }

        button,
        select,
        input,
        textarea {
            font: inherit;
        }

        a {
            color: inherit;
        }

        .responsive-wrapper {
            width: 90%;
            max-width: 1600px;
            margin-left: auto;
            margin-right: auto;
        }
        .app {
            min-height: 80vh;
            width: 95%;
            max-width: 1600px;
            background-color: var(--c-gray-900);
            padding: 2vw 4vw 6vw;
            display: flex;
            flex-direction: column;
        }

        .app-header {
            display: grid;
            grid-template-columns: minmax(min-content, 175px) minmax(max-content, 1fr) minmax(
                    max-content,
                    400px
                );
            column-gap: 4rem;
            align-items: flex-end;
            @media (max-width: 1200px) {
                display: flex;
                align-items: center;
                justify-content: space-between;
                border-bottom: 1px solid var(--c-gray-600);
            }
        }

        .app-header-navigation {
            @media (max-width: 1200px) {
                display: none;
            }
        }

        .app-header-actions {
            display: flex;
            align-items: center;
            @media (max-width: 1200px) {
                display: none;
            }
        }

        .app-header-actions-buttons {
            display: flex;
            border-left: 1px solid var(--c-gray-600);
            margin-left: 2rem;
            padding-left: 2rem;

            & > * + * {
                margin-left: 1rem;
            }
        }

        .app-header-mobile {
            display: none;
            @media (max-width: 1200px) {
                display: flex;
            }
        }

        .app-body {
            height: 100%;
            display: grid;
            grid-template-columns: minmax(min-content, 175px) minmax(max-content, 1fr) minmax(
                    min-content,
                    400px
                );

            column-gap: 4rem;
            padding-top: 2.5rem;

            @media (max-width: 1200px) {
                grid-template-columns: 1fr;
                & > * {
                    margin-bottom: 3.5rem;
                }
            }
        }

        .app-body-navigation {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            @media (max-width: 1200px) {
                display: none;
            }
        }

        .app-body-sidebar {
            
        }        

        .footer {
            margin-top: auto;
            h1 {
                font-size: 1.5rem;
                line-height: 1.125;
                display: flex;
                align-items: flex-start;
                small {
                    font-size: 0.5em;
                    margin-left: 0.25em;
                }
            }

            div {
                border-top: 1px solid var(--c-gray-600);
                margin-top: 1.5rem;
                padding-top: 1rem;
                font-size: 0.75rem;
                color: var(--c-text-tertiary);
            }
        }

        .logo {
            display: flex;
            align-items: center;
            padding-bottom: 1rem;
            padding-top: 1rem;
            border-bottom: 1px solid var(--c-gray-600);
            @media (max-width: 1200px) {
                border-bottom: 0;
            }
        }

        .logo-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
        }

        .logo-title {
            display: flex;
            flex-direction: column;
            line-height: 0.25;
            margin-left: 0.75rem;
            span:first-child {
                color: var(--c-text-primary);
            }
            span:last-child {
                color: var(--c-text-tertiary);
            }
        }

        .navigation {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            color: var(--c-text-tertiary);
        
            a {
                position: relative; /* For underline */
                display: flex;
                align-items: center;
                text-decoration: none;
                background: none !important; /* Remove any background */
                border: none !important; /* Remove any borders */
                box-shadow: none !important; /* Remove any shadow */
                padding: 0 !important; /* Reset padding */
                outline: none; /* Remove outline (if caused by focus state) */
                transition: color 0.25s ease, transform 0.25s ease;
        
                i {
                    margin-right: 0.75rem;
                    font-size: 1.25em;
                    flex-shrink: 0;
                }
        
                & + a {
                    margin-top: 1.25rem; /* Space between links */
                }
        
                &:hover,
                &:focus {
                    transform: translateX(4px); /* Move slightly right */
                    color: #87CEEB; /* Change hover text color to Sky Blue */
                }
        
                &::after {
                    content: '';
                    position: absolute;
                    bottom: -2px; /* Space below the text */
                    left: 0;
                    width: 0;
                    height: 2px;
                    background-color: #87CEEB; /* Underline color for Sky Blue */
                    transition: width 0.3s ease;
                }
        
                &:hover::after,
                &:focus::after {
                    width: 100%; /* Full underline on hover */
                }
        
                &.active {
                    color: #87CEEB; /* Active link text color for Sky Blue */
                }
        
                &.active::after {
                    width: 100%; /* Full underline for active link */
                }
            }
        }
        
        .tabs {
            display: flex;
            justify-content: space-between;
            color: var(--c-text-tertiary);
            border-bottom: 1px solid var(--c-gray-600); /* Keep the bottom border for tab separation */
            
            a {
                padding: 1rem 0; /* Adjust padding for no extra space */
                text-decoration: none;
                border: none; /* Remove any border (top/bottom) */
                display: inline-flex;
                position: relative; /* For positioning the underline */
                background: transparent !important; /* Ensure no background is applied */
                box-shadow: none !important; /* Remove any shadow if it's adding a box effect */
                transition: color 0.25s ease;
        
                &.active,
                &:hover,
                &:focus {
                    color: #87CEEB; /* Sky Blue color on active, hover, or focus */
                }
        
                /* Underline effect */
                &::after {
                    content: '';
                    position: absolute;
                    bottom: -2px; /* Position the underline just below the text */
                    left: 0;
                    width: 0;
                    height: 2px;
                    background-color: #87CEEB; /* Sky Blue color */
                    transition: width 0.3s ease; /* Smooth animation */
                }
        
                /* Trigger underline animation on hover/focus/active */
                &:hover::after,
                &:focus::after,
                &.active::after {
                    width: 100%; /* Full underline on hover/focus/active */
                }
            }
        }
        
        .user-profile {
            display: flex;
            align-items: center;
            border: 0;
            background: transparent !important;
            cursor: pointer;
            color: var(--c-text-tertiary);
            transition: color 0.25s ease;
            position: relative; /* For positioning the underline */
        
            /* Remove the default outline and box shadow */
            &:focus,
            &:hover {
                outline: none;
                box-shadow: none;
            }
        
            &:hover,
            &:focus {
                color: #87CEEB; /* Light Sky Blue color when hovering/focusing */
            }
        
            /* Underline animation */
            span:first-child {
                display: flex;
                font-size: 1.125rem;
                padding-top: 1rem;
                padding-bottom: 1rem;
                border-bottom: 1px solid var(--c-gray-600);
                font-weight: 300;
                position: relative; /* Required for the underline animation */
        
                /* Create the underline with ::after */
                &::after {
                    content: '';
                    position: absolute;
                    bottom: -2px; /* Position the underline just below the text */
                    left: 50%; /* Start the underline at the center */
                    width: 0; /* No underline initially */
                    height: 2px; /* Thickness of the underline */
                    background-color: #87CEEB; /* Light Sky Blue underline color */
                    transform: translateX(-50%); /* Center the underline */
                    transition: width 0.3s ease, transform 0.3s ease; /* Smooth animation for width and position */
                }
        
                /* Expand the underline on hover/focus */
                &:hover::after,
                &:focus::after {
                    width: 100%; /* Full width underline */
                    left: 0; /* Reset position */
                    transform: translateX(0); /* Remove translation */
                }
            }
        
            span:last-child {
                transition: 0.25s ease;
                display: flex;
                justify-content: center;
                align-items: center;
                width: 42px;
                height: 42px;
                border-radius: 50%;
                overflow: hidden;
                margin-left: 1.5rem;
                flex-shrink: 0;
                box-shadow: none !important; /* Ensure no shadow when hovered */
            }
        }
        
        .icon-button {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: 0;
            background-color: transparent;
            border: 1px solid var(--c-gray-500);
            color: var(--c-text-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: 0.25s ease;
            flex-shrink: 0;
            &.large {
                width: 42px;
                height: 42px;
                font-size: 1.25em;
            }

            i {
                transition: 0.25s ease;
            }

            &:hover,
            &:focus {
                background-color: var(--c-gray-600);
                box-shadow: 0 0 0 4px var(--c-gray-800), 0 0 0 5px var(--c-text-tertiary);
            }
        }

        .tiles-container {
            position: relative;
            overflow: hidden; /* Prevent the container from resizing */
        }

        .tiles-wrapper {
            position: relative;
            width: 100%;
            overflow-x: auto; /* Allows horizontal scrolling */
        }
        
        .arrow-button {
            background: none;
            border: none;
            font-size: 1.5em;
            color: var(--c-light-gray); /* Reference the variable here */
            cursor: pointer;
            z-index: 10;
            position: relative; /* Position them normally in the layout flow */
            margin: 10px; /* Add some spacing */
        }
        
        /* Define the light gray variable globally in your CSS, e.g., in the :root */
        :root {
            --c-light-gray: #d3d3d3; /* Define the light gray color */
        }
        
        /* Adjust arrow positioning */
        .left-arrow {
            margin-left: 150px; /* Push it to the left */
        }
        
        .right-arrow {
            margin-right: 150px; /* Push it to the right */
        }
        
        
        /* Align arrows and tiles together */
        .arrows-container {
            display: flex; /* Create a horizontal layout */
            justify-content: space-between; /* Space the arrows apart */
            align-items: center;
            margin-top: 10px; /* Add spacing above */
        }

        

        .tiles {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            column-gap: 1rem;
            row-gap: 1rem;
            margin-top: 1.25rem;
            @media (max-width: 700px) {
                grid-template-columns: repeat(1, 1fr);
            }
        }

        .tile {
            padding: 1rem;
            border-radius: 8px;
            background-color: var(--c-olive-500);
            color: var(--c-gray-900);
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            position: relative;
            transition: 0.25s ease;
        
            &:hover {
                transform: translateY(-5px);
            }
        
            &:focus-within {
                box-shadow: 0 0 0 2px var(--c-gray-800), 0 0 0 4px var(--c-olive-500);
            }
        
            &:nth-child(2) {
                background-color: var(--c-green-500);
                &:focus-within {
                    box-shadow: 0 0 0 2px var(--c-gray-800), 0 0 0 4px var(--c-green-500);
                }
            }
            &:nth-child(3) {
                background-color: var(--c-gray-300);
                &:focus-within {
                    box-shadow: 0 0 0 2px var(--c-gray-800), 0 0 0 4px var(--c-gray-300);
                }
            }
        
            a {
                text-decoration: none;
                display: flex;
                align-items: center;
                justify-content: space-between;
                font-weight: 600;
           
                &:focus {
                    box-shadow: none;
                }
        
                &:after {
                    content: "";
                    display: block;
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                }
            }
        }
        

        .tile-header {
            display: flex;
            align-items: center;
            
            i {
                font-size: 1rem;  /* Adjusted icon size */
            }
            
            h3 {
                display: flex;
                flex-direction: column;
                line-height: 1.375;
                margin-left: 0.5rem;
                
                /* Target the first span (email) */
                span:first-child {
                    font-weight: 600;
                    font-size: 1.1rem;  /* Slightly larger font size for email */
                }
        
                /* Target the second span (group) */
                span:last-child {
                    font-size: 0.875rem;  /* Smaller font size for the group */
                    font-weight: 200;
                }
            }
        }        
              
        .service-section > h2 {
            font-size: 1.5rem;
            margin-bottom: 1.25rem;
        }

        /* Service Section Header */
        .service-section-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            /* Add some spacing between header elements */
            & > * + * {
                margin-left: 1.25rem;
            }

            /* Hide header elements for smaller screens, but maintain layout */
            @media (max-width: 1000px) {
                display: none;
            }
        }


        /* Prevent tiles from shifting with the header */
        .tiles-container {
            position: relative;
            z-index: 1; /* Ensure tiles are not covered by hidden sections */
        }

        /* Prevent movement of tiles by ensuring consistency in layout */
        .tiles-wrapper {
            display: flex;
            flex-direction: column; /* Stack tiles and arrows vertically */
            align-items: center; /* Center-align the content */
        }

        /* Prevent floating items from affecting other elements */
        .tiles-container,
        .tiles-wrapper,
        .tile {
            box-sizing: border-box; /* Ensures padding and margin are included in size */
        }

        /* Set fixed height and width for tiles if necessary */
        .tile {
            width: 200px;  /* Fixed width */
            height: 200px; /* Fixed height */
            padding: 0.5rem;
            margin: 0;  /* Prevent shifting from outside margins */
            background-color: var(--c-olive-500);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: 0.25s ease;
        }

        .flat-button {
            border-radius: 6px;
            background-color: var(--c-gray-700);
            padding: 0.5em 1.5em;
            border: 0;
            color: var(--c-text-secondary);
            transition: 0.25s ease;
            cursor: pointer;
            &:hover,
            &:focus {
                background-color: var(--c-gray-600);
            }
        }

        .mobile-only {
            display: none;
            @media (max-width: 1000px) {
                display: inline-flex;
            }
        }

        .transfer-section {
            margin-top: 2.5rem;
        }

        .transfer-section-header {
            display: flex;
            align-items: center;
            width: 100%;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--c-gray-600);
            h2 {
                font-size: 1.5rem;
            }
        }

        .payments {
            display: flex;
            flex-direction: column;
            margin-top: 1.5rem;
        }

        .payment {
            display: flex;
            align-items: center;
            & + * {
                margin-top: 1rem;
            }
        }

        .card {
            width: 125px;
            padding: 0.375rem;
            aspect-ratio: 3 / 2;
            flex-shrink: 0;
            border-radius: 6px;
            color: var(--c-gray-800);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            font-size: 0.75rem;
            font-weight: 600;
            &.green {
                background-color: var(--c-green-500);
            }

            &.olive {
                background-color: var(--c-olive-500);
            }

            &.gray {
                background-color: var(--c-gray-300);
            }

            span:last-child {
                align-self: flex-end;
            }
        }

        .payment-details {
            display: flex;
            width: 100%;
            flex-direction: column;
            margin-left: 1.5rem;
            h3 {
                font-size: 1rem;
                color: var(--c-text-tertiary);
            }

            div {
                margin-top: 0.75rem;
                padding-top: 0.75rem;
                padding-bottom: 0.75rem;
                border-top: 1px solid var(--c-gray-600);
                border-bottom: 1px solid var(--c-gray-600);
                display: flex;
                align-items: center;
                justify-content: space-between;
                flex: 1;

                span {
                    font-size: 1.5rem;
                }
            }
        }

        .filter-options {
            margin-left: 1.25rem;
            padding-left: 1.25rem;
            border-left: 1px solid var(--c-gray-600);
            display: flex;
            align-items: center;
            flex: 1 1 auto;

            p {
                & + * {
                    margin-left: auto;
                    margin-right: 0.75rem;
                }
                color: var(--c-text-tertiary);
                font-size: 0.875rem;
                @media (max-width: 1000px) {
                    display: none;
                }
            }
        }

        .transfers {
            display: flex;
            flex-direction: column;
            margin-top: 1.5rem;
        }

        .transfer {
            display: flex;
            align-items: center;
            width: 100%;
            font-size: 0.875rem;
            @media (max-width: 1000px) {
                align-items: flex-start;
                flex-direction: column;
            }
            & + * {
                margin-top: 2rem;
            }
        }

        .transfer-logo {
            background-color: none;
            border-radius: 4px;
            width: 42px;
            height: 42px;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            img {
                width: 45%;
            }
        }

        .transfer-details {
            margin-left: 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex: 1;
            @media (max-width: 1000px) {
                flex-wrap: wrap;
                margin-left: 0;
                margin-top: 1rem;
            }
            div {
                width: calc(100% / 3 - 1rem);
                @media (max-width: 1000px) {
                    width: 100%;
                }
                & + div {
                    margin-left: 1rem;
                    @media (max-width: 1000px) {
                        margin-left: 0;
                        margin-top: 1rem;
                    }
                }
            }

            dd {
                color: var(--c-text-tertiary);
                margin-top: 2px;
            }
        }

        .transfer-number {
            margin-left: 2rem;
            font-size: 1.125rem;
            flex-shrink: 0;
            width: 15%;
            display: flex;
            justify-content: flex-end;
            @media (max-width: 1000px) {
                margin-left: 0;
                margin-top: 1.25rem;
                width: 100%;
                justify-content: flex-start;
            }
        }

        .payment-section {
            & > h2 {
                font-size: 1.5rem;
            }
        }

        .payment-section-header {
            display: flex;
            align-items: center;
            margin-top: 1rem;
            p {
                color: var(--c-text-tertiary);
                font-size: 0.875rem;
            }

            div {
                padding-left: 1rem;
                margin-left: auto;
                display: flex;
                align-items: center;
                & > * + * {
                    margin-left: 0.5rem;
                }
            }
        }

        .card-button {
            display: flex;
            width: 50px;
            height: 34px;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            background-color: transparent;
            transition: 0.25s ease;
            border-radius: 4px;
            border: 2px solid var(--c-gray-600);
            color: var(--c-text-primary);
            cursor: pointer;
            &.mastercard svg {
                max-height: 15px;
            }

            &:focus,
            &:hover,
            &.active {
                color: var(--c-gray-800);
                background-color: var(--c-white);
                border-color: var(--c-white);
            }
        }

        .faq {
            margin-top: 1.5rem;
            display: flex;
            flex-direction: column;
            p {
                color: var(--c-text-tertiary);
                font-size: 0.875rem;
            }

            div {
                margin-top: 0.75rem;
                padding-top: 0.75rem;
                padding-bottom: 0.75rem;
                border-top: 1px solid var(--c-gray-600);
                border-bottom: 1px solid var(--c-gray-600);
                font-size: 0.875rem;
                display: flex;
                align-items: center;

                label {
                    padding-right: 1rem;
                    margin-right: 1rem;
                    border-right: 1px solid var(--c-gray-600);
                }

                input {
                    border: 0;
                    background-color: transparent;
                    padding: 0.25em 0;
                    width: 100%;
                }
            }
        }

        .payment-section-footer {
            display: flex;
            align-items: center;
            margin-top: 1.5rem;
        }

        .save-button {
            border: 1px solid currentColor;
            color: var(--c-text-tertiary);
            border-radius: 6px;
            padding: 0.75em 2.5em;
            background-color: transparent;
            transition: 0.25s ease;
            cursor: pointer;
            &:focus,
            &:hover {
                color: var(--c-white);
            }
        }

        .settings-button {
            display: flex;
            align-items: center;
            color: var(--c-text-tertiary);
            background-color: transparent;
            border: 0;
            padding: 0;
            margin-left: 1.5rem;
            cursor: pointer;
            transition: 0.25s ease;
            i {
                margin-right: 0.5rem;
            }
            &:focus,
            &:hover {
                color: var(--c-white);
            }
        }

        input,
        select,
        a,
        textarea,
        button {
            &:focus {
                outline: 0;
                box-shadow: 0 0 0 2px var(--c-gray-800), 0 0 0 4px var(--c-gray-300);
            }
        }

        /* Style for the search field container */
        .search-field {
            display: flex;  /* Enable flexbox for horizontal alignment */
            flex-grow: 1;
            position: relative;
            align-items: center;  /* Align items vertically in the center */
        }

        /* Style for the input field */
        .search-field input {
            width: 100%;
            padding: 0.5rem;
            border: 0;
            border-bottom: 1px solid var(--c-gray-600);  /* Border stays as is */
            background-color: transparent;  /* Transparent background */
            outline: none;  /* Remove the default outline when focused */
        }

        /* Prevent default focus border and background */
        .search-field input:focus,
        .search-field input:active {
            background-color: transparent;  /* Keep the background transparent */
            border-color: var(--c-gray-600);  /* Keep the border color the same */
            box-shadow: none;  /* Remove any box-shadow if applied by browser */
        }

        
        .btn.btn-primary {
            background-color: transparent;  /* Remove background color */
            border: none;  /* Remove border */
            color: var(--c-text-primary);  /* Text color, adjust based on your theme */
            text-decoration: none;  /* Remove underline (it's not needed for icons) */
            padding: 0.5em 1.5em;  /* Adjust padding */
            cursor: pointer;  /* Cursor pointer on hover */
            transition: color 0.25s ease;  /* Smooth color transition */
            margin-left: 10px;  /* Space between the search field and button */
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        /* Icon styling */
        .btn.btn-primary i {
            font-size: 1.5em;  /* Adjust icon size */
        }

        /* Hover effect for button */
        .btn.btn-primary:hover,
        .btn.btn-primary:focus {
            color: var(--c-accent);  /* Change color on hover, adjust based on your theme */
        }

        
        /* Align the button to the right of the search field */
        .search-field button {
            display: inline-block;
            margin-left: 10px;  /* Space between the input field and the button */
        }

        /* Style for the message box */
        .message {
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-weight: bold;
            display: inline-block;
            margin-left: 10px;  /* Add some spacing from the button */
        }

        .success-messages, .error-messages {
            display: none; /* Hide messages initially */
        }
        
        .success-messages ul {
            padding: 0;
            list-style-type: none;
            margin-top: 10px;
        }
        
        .success-messages li {
            color: #155724;  /* Green color for success messages */
            background-color: #d4edda; /* Light green background */
            font-size: 0.875rem;
            margin-top: 0.5rem;
            padding: 10px;
            border-radius: 5px;
        }
                
        .error-messages ul {
            padding: 0;
            list-style-type: none;
            margin-top: 10px;  /* Add margin to give some space between form and error messages */
        }

        .error-messages li {
            color: #721c24;  /* Red color for error messages */
            font-size: 0.875rem;
            margin-top: 0.5rem;
            font-weight: bold;
        }

        
        .action-buttons-container {
            display: flex;
            gap: 10px; /* Adds space between the buttons */
            align-items: center; /* Aligns buttons vertically at the center */
            justify-content: flex-end; /* Align buttons to the left */
            margin-bottom: 10px;
        }
        
        
        .icon-button {
            background: none;
            border: none;
            cursor: pointer;
            padding: 10px;
        }
        
        .icon-button i {
            font-size: 16px;
            color: #333;
          
        }
        
        .icon-button:hover i {
            color: #007bff; /* Optional: Change color on hover */
        }
        
        .attendee-name-container {
            display: flex;
            align-items: center; /* Align the name and circle vertically */
        }

        .status-indicator {
            width: 15px;            /* Circle size */
            height: 15px;           /* Circle size */
            border-radius: 50%;     /* Always render as a circle */
            margin-left: 8px;       /* Space between text and circle */
            display: inline-block;  /* Inline behavior for alignment */
            background-color: transparent; /* Transparent before AJAX renders */
            transition: background-color 0.3s ease, opacity 0.3s ease; /* Smooth transition for visibility and color */
            opacity: 0; /* Initially hidden */
        }

        /* Green for Present */
        .present {
            background-color: green;
            opacity: 1;
        }

        /* Red for Absent */
        .absent {
            background-color: red;
            opacity: 1;
        }

        .custom-icon-button {
            width: 32px;
            height: 32px;
            border-radius: 50%; /* Circle shape */
            border: none;
            background-color: transparent; /* Transparent background */
            color: var(--c-text-primary); /* Default icon color */
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: 0.25s ease;
            flex-shrink: 0;
            padding: 0; /* Remove default padding */
        }
        
        .custom-icon-button.large {
            width: 42px;
            height: 42px;
            font-size: 1.25em; /* Larger button for large class */
        }
        
        .custom-icon-button i {
            font-size: 16px;
            color: #333; /* Default icon color */
            transition: color 0.25s ease; /* Transition for icon color */
        }
        
        .custom-icon-button:hover,
        .custom-icon-button:focus {
            background-color: var(--c-gray-600); /* Hover background */
            box-shadow: 0 0 0 4px var(--c-gray-800), 0 0 0 5px var(--c-text-tertiary); /* Hover shadow */
        }
        
        .custom-icon-button:hover i {
            color: #007bff; /* Icon color on hover */
        }  

        .digital-watch{
            margin-right: 20px;
        }

        /* General styles for the digital watch */
        .digital-watch .hour,
        .digital-watch .minute,
        .digital-watch .second {
            position: relative;
            display: inline-block;
            margin: 4px; /* Increased spacing between digit groups */
            font-size: 0;
        }

        /* Adjust the colon placement to move it further to the right */
        .digital-watch .hour::before,
        .digital-watch .hour::after,
        .digital-watch .minute::before,
        .digital-watch .minute::after {
            content: '';
            position: absolute;
            right: -15px; /* Increased value to move the colon further right */
            width: 3px; /* Width of the colon dots */
            height: 3px; /* Height of the colon dots */
            background-color: #0984e3;
        }

        /* Adjust the vertical placement of the top and bottom dots */
        .digital-watch .hour::before,
        .digital-watch .minute::before {
            top: 10px; /* Top dot position */
        }

        .digital-watch .hour::after,
        .digital-watch .minute::after {
            top: 25px; /* Bottom dot position */
        }


        /* SVG size and margins */
        .digital-watch svg {
            display: inline-block;
            margin: 4px; /* Increased spacing between digits */
            width: 16px; /* Increased SVG width */
            height: 30px; /* Increased SVG height */
        }

        /* Base segment styles */
        .digital-watch svg .segment {
            fill: rgb(255, 255, 255); /* White segments */
            transition: 0.3s ease-in-out;
        }

        /* Horizontal segments */
        .digital-watch svg .segment.a,
        .digital-watch svg .segment.d,
        .digital-watch svg .segment.g {
            width: 12px; /* Increased width of horizontal segments */
            height: 3px; /* Increased thickness of horizontal segments */
        }

        /* Vertical segments */
        .digital-watch svg .segment.b,
        .digital-watch svg .segment.c,
        .digital-watch svg .segment.e,
        .digital-watch svg .segment.f {
            width: 3px; /* Increased thickness of vertical segments */
            height: 12px; /* Increased height of vertical segments */
        }


        /* Digit 0 */
        .num-0 .segment.a,
        .num-0 .segment.b,
        .num-0 .segment.c,
        .num-0 .segment.d,
        .num-0 .segment.e,
        .num-0 .segment.f {
            fill: #0984e3; /* Active segment color */
        }
        .num-0 .segment.g {
            fill: #333; /* Inactive segment color */
        }

        /* Digit 1 */
        .num-1 .segment.b,
        .num-1 .segment.c {
            fill: #0984e3;
        }
        .num-1 .segment.a,
        .num-1 .segment.d,
        .num-1 .segment.e,
        .num-1 .segment.f,
        .num-1 .segment.g {
            fill: #333;
        }

        /* Digit 2 */
        .num-2 .segment.a,
        .num-2 .segment.b,
        .num-2 .segment.g,
        .num-2 .segment.e,
        .num-2 .segment.d {
            fill: #0984e3;
        }
        .num-2 .segment.c,
        .num-2 .segment.f {
            fill: #333;
        }

        /* Digit 3 */
        .num-3 .segment.a,
        .num-3 .segment.b,
        .num-3 .segment.g,
        .num-3 .segment.c,
        .num-3 .segment.d {
            fill: #0984e3;
        }
        .num-3 .segment.e,
        .num-3 .segment.f {
            fill: #333;
        }

        /* Digit 4 */
        .num-4 .segment.f,
        .num-4 .segment.g,
        .num-4 .segment.b,
        .num-4 .segment.c {
            fill: #0984e3;
        }
        .num-4 .segment.a,
        .num-4 .segment.d,
        .num-4 .segment.e {
            fill: #333;
        }

        /* Digit 5 */
        .num-5 .segment.a,
        .num-5 .segment.f,
        .num-5 .segment.g,
        .num-5 .segment.c,
        .num-5 .segment.d {
            fill: #0984e3;
        }
        .num-5 .segment.b,
        .num-5 .segment.e {
            fill: #333;
        }

        /* Digit 6 */
        .num-6 .segment.a,
        .num-6 .segment.f,
        .num-6 .segment.g,
        .num-6 .segment.c,
        .num-6 .segment.d,
        .num-6 .segment.e {
            fill: #0984e3;
        }
        .num-6 .segment.b {
            fill: #333;
        }

        /* Digit 7 */
        .num-7 .segment.a,
        .num-7 .segment.b,
        .num-7 .segment.c {
            fill: #0984e3;
        }
        .num-7 .segment.d,
        .num-7 .segment.e,
        .num-7 .segment.f,
        .num-7 .segment.g {
            fill: #333;
        }

        /* Digit 8 */
        .num-8 .segment.a,
        .num-8 .segment.b,
        .num-8 .segment.c,
        .num-8 .segment.d,
        .num-8 .segment.e,
        .num-8 .segment.f,
        .num-8 .segment.g {
            fill: #0984e3;
        }

        /* Digit 9 */
        .num-9 .segment.a,
        .num-9 .segment.b,
        .num-9 .segment.c,
        .num-9 .segment.d,
        .num-9 .segment.f,
        .num-9 .segment.g {
            fill: #0984e3;
        }
        .num-9 .segment.e {
            fill: #333;
        }

        .notification {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);  /* Center the notification */
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.6); /* Glass effect */
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px); /* Blur background */
            color: #333;
            font-size: 14px;
            font-weight: bold;
            z-index: 1000;
            opacity: 1;
            pointer-events: auto;  /* Make sure it's clickable while visible */
            transition: opacity 0.5s ease-in-out; /* Only fade the opacity */
        }
        
        .notification.hidden {
            opacity: 0;
            pointer-events: none;  /* Disable interactions when hidden */
        }
        
        /* Optional: Additional class for showing the notification */
        .notification.visible {
            opacity: 1;
            pointer-events: auto;
        }
        
        /* Glass effect for the modal background */
    .modal-content {
        background: rgba(255, 255, 255, 0.1); /* Semi-transparent white */
        border-radius: 15px;
        backdrop-filter: blur(10px); /* Blurring the background */
        border: 1px solid rgba(255, 255, 255, 0.3); /* Light border for contrast */
    }

    /* Optional: Add some padding and shadow for the modal */
    .modal-dialog {
        padding: 20px;
    }

    /* The modal background */
    .modal-backdrop {
        background: rgba(0, 0, 0, 0.5); /* Dark background behind the modal */
    }

    /* Styling the form elements */
    .form-control {
        background: rgba(255, 255, 255, 0.3);
        border: 1px solid rgba(255, 255, 255, 0.5);
        border-radius: 10px;
        color: white;
    }

    .form-label {
        color: white;
        font-weight: bold;
    }

    .btn-primary {
        background-color: rgba(255, 255, 255, 0.3);
        border: 1px solid rgba(255, 255, 255, 0.5);
        color: white;
    }

    .btn-close {
        color: white;
    }

    .modal-title {
        color: white;
        font-weight: bold;
    }

    .btn-primary:hover {
        background-color: rgba(255, 255, 255, 0.5);
    }
     
    .fade-out {
        opacity: 1;
        transition: opacity 1s ease-out; /* Smooth fade-out */
    }
    
    /* Hidden state after fade-out */
    .fade-out.hidden {
        opacity: 0;
        display: none;
    }
                    
    </style>
</head>
<body>

    <div class="app">
        <header class="app-header">
            <div class="app-header-logo">
                <div class="logo">
                    <span class="logo-icon">
                        <img src="{% static 'img/logo.ico' %}" alt="Logo" />
                    </span>
                    <h1 class="logo-title">
                        <span>NATCCO</span>
                    </h1>
                </div>
            </div>
            <div class="app-header-navigation">
                <div class="tabs">
                    <a href="#" id="overview-tab" class="tab-link" onclick="showTab('overview-content')">
                        Overview
                    </a>
                    <a href="#" id="whitelist-tab" class="tab-link active" onclick="showTab('whitelist-content')">
                        Whitelist
                    </a>
                    <a href="#" id="accounts-tab" class="tab-link" onclick="showTab('accounts-content')">
                        Accounts
                    </a>
                    <a href="#" id="attendance-tab" class="tab-link" onclick="showTab('attendance-content')">
                        Attendance
                    </a>
                </div>
            </div>

            <div class="app-header-actions">
                <button class="user-profile">
                    <span>{{ user.first_name }} {{ user.last_name }}</span>
                    <span>
                        {% if user.profile_picture %}
                            <img src="{{ user.profile_picture.url }}" alt="{{ user.first_name }}'s Profile Picture" />
                        {% else %}
                            <img src="{% static 'profile_pictures/default_profile.png' %}" alt="Default Profile Picture" />
                        {% endif %}
                    </span>
                </button>
            
                <div class="app-header-actions-buttons">
                    <!-- Upload Profile Picture Form -->
                    <form method="POST" enctype="multipart/form-data">
                        {% csrf_token %}
                        <!-- Hidden file input for profile picture upload -->
                        <input type="file" name="picture" id="profile-picture-upload" style="display: none;" onchange="this.form.submit();">
            
                        <!-- Button to trigger the file input -->
                        <button type="button" class="icon-button large" onclick="document.getElementById('profile-picture-upload').click();">
                            <i class="fas fa-camera"></i> 
                        </button>
                    </form>
            
                    <!-- Logout Form (Button for logout) -->
                    <form action="{% url 'logout' %}" method="post" class="icon-button-form">
                        {% csrf_token %}
                        <button type="submit" class="icon-button large btn-logout">
                            <i class="fas fa-power-off"></i>
                        </button>
                    </form>
                </div>
            </div>
            
            <div class="app-header-mobile">
                <button class="icon-button large">
                    <i class="ph-list"></i>
                </button>
            </div>
    
        </header>
        <div class="app-body">
            <div class="app-body-navigation">
                <nav class="navigation">
                    <a href="#" id="dashboard-sidebar" class="tab-link active" onclick="showTab('dashboard')">
                        <i class="fas fa-bars"></i>
                        <span>Dashboard</span>
                    </a>
                    <a href="#" id="schedules-sidebar" class="tab-link" onclick="showTab('schedules')">
                        <i class="fas fa-calendar-check"></i>
                        <span>Schedules</span>
                    </a>
                    <a href="#" id="events-sidebar" class="tab-link" onclick="showTab('events')">
                        <i class="fas fa-calendar-day"></i>
                        <span>Events</span>
                    </a>
                    <a href="#" id="templates-sidebar" class="tab-link" onclick="showTab('templates')">
                        <i class="fas fa-file-alt"></i>
                        <span>Templates</span>
                    </a>
                </nav>               
                <footer class="footer">
                    <h1>ITG DATA CENTER<small>©</small></h1>
                    <div>
                        NATCCO NETWORK<br />
                        All Rights Reserved 2025
                    </div>
                </footer>
            </div>

            <div class="app-body-main-content">

                <div id="dashboard" class="tab-content" style="display: block;">
                    <h2>Dashboard Panel</h2>
                    <p>You are currently viewing the Dashboard.</p>
                </div>
                <div id="schedules" class="tab-content" style="display: none;">
                    <h2>Schedules Panel</h2>
                    <p>You are currently viewing the Schedules.</p>
                </div>

                <div id="events" class="tab-content">
                    <section class="transfer-section">
                        <div class="transfer-section-header">
                            <h2>Latest Events</h2>
                            <div class="filter-options">
                                <p>Filter selected: Dates</p>
                                <button class="icon-button" data-bs-toggle="modal" data-bs-target="#eventModal">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                        </div>
                        <div class="transfers">
                            {% for event in events %}
                            <div class="transfer">
                                <div class="transfer-logo">
                                    <img src="{% static 'img/logo.ico' %}" alt="Logo" />
                                </div>
                                <dl class="transfer-details">
                                    <div>
                                        <dt>{{ event.name }}</dt>
                                        <dd>{{ event.facilitator.username }}</dd>
                                    </div>
                                    <div>
                                        <dt>{{ event.attendees_count }}</dt>
                                        <dd>Number of Attendees</dd>
                                    </div>
                                    <div>
                                        <dt>{{ event.date }}</dt>
                                        <dd>Event Date</dd>
                                    </div>
                                </dl>
                            </div>
                            {% endfor %}
                        </div>
                    </section>
                </div>                
                
                <div class="modal fade" id="eventModal" tabindex="-1" aria-labelledby="eventModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="eventModalLabel">Create New Event</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <form id="eventForm" method="POST" action="{% url 'event_list' %}">
                                    {% csrf_token %}
                                    
                                    <div>
                                        <label for="{{ form.name.id_for_label }}">Event Name:</label>
                                        {{ form.name }}  <!-- Using the form field rendered by Django -->
                                    </div>
                                    
                                    <div>
                                        <label for="{{ form.facilitator.id_for_label }}">Facilitator:</label>
                                        {{ form.facilitator }}  <!-- Using the form field rendered by Django -->
                                    </div>
                                    
                                    <div>
                                        <label for="{{ form.date.id_for_label }}">Event Date:</label>
                                        {{ form.date }}  <!-- Using the form field rendered by Django -->
                                    </div>
                                    
                                    <div>
                                        <label for="{{ form.attendees_count.id_for_label }}">Attendees Count:</label>
                                        {{ form.attendees_count }}  <!-- Using the form field rendered by Django -->
                                    </div>
                                    
                                    <button type="submit" class="btn btn-primary">Create Event</button>
                                </form>                                
                            </div>
                        </div>
                    </div>
                </div>
                               
                                            
                <div id="templates" class="tab-content" style="display: none;">
                    <h2>Templates Panel</h2>
                    <p>You are currently viewing the Templates.</p>
                </div>

                <div id="whitelist-content" class="tab-content" style="display: block;">
                    <section class="service-section">
                        <h2>Whitelisted Emails</h2>
                        <div class="service-section-header">
                            <form id="whitelistForm" method="post" action="{% url 'admin_dashboard' %}">
                                {% csrf_token %}
                                <div class="search-field">
                                    <input type="email" id="email" name="email" class="form-control" placeholder="Enter email" required>
                                    <button type="submit" class="custom-icon-button">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>
                            </form>
                
                            <!-- Success Messages -->
                            <div id="whitelistSuccessMessage" class="success-messages fade-out" style="display: none;">
                                <ul>
                                    <li>{{ message }}</li>
                                </ul>
                            </div>
                
                            <!-- Error Messages -->
                            <div id="whitelistErrorMessages" class="error-messages fade-out" style="display: none;">
                                <ul>
                                    {% for field in form %}
                                        {% for error in field.errors %}
                                            <li>{{ error }}</li>
                                        {% endfor %}
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                
                        <div class="tiles-container">
                            <div class="tiles-wrapper">
                                <div class="tiles" id="tiles">
                                    {% for entry in whitelisted_emails %}
                                        <article class="tile">
                                            <div class="tile-header">
                                                <i class="ph-lightning-light"></i>
                                                <h3>
                                                    <span>{{ entry.email }}</span>
                                                </h3>
                                            </div>
                                        </article>
                                    {% empty %}
                                        <p>No emails have been whitelisted yet.</p>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                
                        <div class="arrows-container">
                            <button class="arrow-button left-arrow icon-button" onclick="changePage(-1)">
                                <i class="fas fa-arrow-left"></i> <!-- Left arrow icon -->
                            </button>
                        
                            <button class="arrow-button right-arrow icon-button" onclick="changePage(1)">
                                <i class="fas fa-arrow-right"></i> <!-- Right arrow icon -->
                            </button>
                        </div>
                        <!-- Additional Content for Whitelist goes here -->
                    </section>
                </div>                
                
                <!-- Content for Attendees -->
                <div id="attendance-content" class="tab-content" style="display: none;">
                    <h2>Attendees</h2>
                    <!-- Filter and Download Buttons -->
                    <div class="action-buttons-container">
                        <!-- Download CSV Button -->
                        <form method="get" action="{% url 'download_attendees' %}" style="display: inline;">
                            <button class="icon-button" type="submit" title="Download Attendees">
                                <i class="fas fa-download"></i>
                            </button>
                        </form>

                        <form method="POST" id="resetAttendanceForm" style="display: inline;">
                            {% csrf_token %}
                            <!-- Reset Attendance Button -->
                            <button id="resetAttendanceButton" class="icon-button" title="Reset Attendance">
                                <i class="fas fa-sync-alt"></i> <!-- Using sync icon to represent reset -->
                            </button>

                            <!-- Notification Container -->
                            <div id="notification" class="notification hidden"></div>
                        </form>
                    </div>
                                    
                    <!-- Attendees List -->
                    {% if attendees %}
                    <ul class="attendee-list">
                        {% for attendee in attendees %}
                        <li class="attendee-item" data-email="{{ attendee.email }}">
                            <span class="attendee-name-container">
                                <span class="attendee-name">{{ attendee.first_name }} {{ attendee.last_name }}</span>
                                <div class="status-indicator {% if attendee.is_present %}present{% else %}absent{% endif %}"></div>
                            </span>
                        </li>
                        {% endfor %}
                    </ul>
                    {% else %}
                    <div class="no-attendees-message">
                        <p>No registered attendees</p>
                    </div>
                    {% endif %}

                </div>    
                
                
                            
                <!-- Content for Accounts -->
                <div id="accounts-content" class="tab-content" style="display: none;">
                    <h2>Accounts</h2>
                    <!-- Your accounts content here -->
                </div>
                
                <!-- Content for Overview -->
                <div id="overview-content" class="tab-content" style="display: none;">
                    <h2>Overview</h2>
                    <!-- Your overview content here -->
                </div>
                          
                <section class="transfer-section">
                    
                </section>
            </div>

            <div class="app-body-sidebar">
                <section class="payment-section">
                    <h2>Live Event Monitoring</h2>
                    <div class="payment-section-header">
                        <div class="digital-watch">
                            <svg width="0" height="0" viewBox="0 0 0 0">
                                <defs>
                                    <g id="unit-h">
                                        <path d="M0 20 L20 40 L180 40 L200 20 L180 0 L20 0 Z"></path>
                                    </g>
                                    <g id="unit-v">
                                        <path d="M20 0 L0 20 L0 180 L20 200 L40 180 L40 20 Z"></path>
                                    </g>
                                </defs>
                            </svg>
                            <div class="hour">
                                <svg id="hour-1" class="num-0" width="130" height="240" viewBox="0 0 260 480">
                                    <use xlink:href="#unit-h" class="segment a" x="30" y="0"></use>
                                    <use xlink:href="#unit-v" class="segment b" x="220" y="30"></use>
                                    <use xlink:href="#unit-v" class="segment c" x="220" y="250"></use>
                                    <use xlink:href="#unit-h" class="segment d" x="30" y="440"></use>
                                    <use xlink:href="#unit-v" class="segment e" x="0" y="250"></use>
                                    <use xlink:href="#unit-v" class="segment f" x="0" y="30"></use>
                                    <use xlink:href="#unit-h" class="segment g" x="30" y="220"></use>
                                </svg>
                                <svg id="hour-2" class="num-0" width="130" height="240" viewBox="0 0 260 480">
                                    <use xlink:href="#unit-h" class="segment a" x="30" y="0"></use>
                                    <use xlink:href="#unit-v" class="segment b" x="220" y="30"></use>
                                    <use xlink:href="#unit-v" class="segment c" x="220" y="250"></use>
                                    <use xlink:href="#unit-h" class="segment d" x="30" y="440"></use>
                                    <use xlink:href="#unit-v" class="segment e" x="0" y="250"></use>
                                    <use xlink:href="#unit-v" class="segment f" x="0" y="30"></use>
                                    <use xlink:href="#unit-h" class="segment g" x="30" y="220"></use>
                                </svg>
                            </div>
                            <div class="minute">
                                <svg id="minute-1" class="num-0" width="130" height="240" viewBox="0 0 260 480">
                                    <use xlink:href="#unit-h" class="segment a" x="30" y="0"></use>
                                    <use xlink:href="#unit-v" class="segment b" x="220" y="30"></use>
                                    <use xlink:href="#unit-v" class="segment c" x="220" y="250"></use>
                                    <use xlink:href="#unit-h" class="segment d" x="30" y="440"></use>
                                    <use xlink:href="#unit-v" class="segment e" x="0" y="250"></use>
                                    <use xlink:href="#unit-v" class="segment f" x="0" y="30"></use>
                                    <use xlink:href="#unit-h" class="segment g" x="30" y="220"></use>
                                </svg>
                                <svg id="minute-2" class="num-0" width="130" height="240" viewBox="0 0 260 480">
                                    <use xlink:href="#unit-h" class="segment a" x="30" y="0"></use>
                                    <use xlink:href="#unit-v" class="segment b" x="220" y="30"></use>
                                    <use xlink:href="#unit-v" class="segment c" x="220" y="250"></use>
                                    <use xlink:href="#unit-h" class="segment d" x="30" y="440"></use>
                                    <use xlink:href="#unit-v" class="segment e" x="0" y="250"></use>
                                    <use xlink:href="#unit-v" class="segment f" x="0" y="30"></use>
                                    <use xlink:href="#unit-h" class="segment g" x="30" y="220"></use>
                                </svg>
                            </div>
                            <div class="second">
                                <svg id="second-1" class="num-0" width="130" height="240" viewBox="0 0 260 480">
                                    <use xlink:href="#unit-h" class="segment a" x="30" y="0"></use>
                                    <use xlink:href="#unit-v" class="segment b" x="220" y="30"></use>
                                    <use xlink:href="#unit-v" class="segment c" x="220" y="250"></use>
                                    <use xlink:href="#unit-h" class="segment d" x="30" y="440"></use>
                                    <use xlink:href="#unit-v" class="segment e" x="0" y="250"></use>
                                    <use xlink:href="#unit-v" class="segment f" x="0" y="30"></use>
                                    <use xlink:href="#unit-h" class="segment g" x="30" y="220"></use>
                                </svg>
                                <svg id="second-2" class="num-0" width="130" height="240" viewBox="0 0 260 480">
                                    <use xlink:href="#unit-h" class="segment a" x="30" y="0"></use>
                                    <use xlink:href="#unit-v" class="segment b" x="220" y="30"></use>
                                    <use xlink:href="#unit-v" class="segment c" x="220" y="250"></use>
                                    <use xlink:href="#unit-h" class="segment d" x="30" y="440"></use>
                                    <use xlink:href="#unit-v" class="segment e" x="0" y="250"></use>
                                    <use xlink:href="#unit-v" class="segment f" x="0" y="30"></use>
                                    <use xlink:href="#unit-h" class="segment g" x="30" y="220"></use>
                                </svg>
                            </div>
                        </div>
                        <div>
                            <button class="card-button prom-dress">
                                <!-- Prom Dress Icon -->
                                <svg xmlns="http://www.w3.org/2000/svg" width="2500" height="2500" viewBox="0 0 24 24">
                                    <path fill="currentColor" d="M12 0C9.79 0 8 1.79 8 4C8 5.74 8.93 7.3 10.11 8.15L10 15C10 16.1 10.9 17 12 17C13.1 17 14 16.1 14 15V8.15C15.07 7.3 16 5.74 16 4C16 1.79 14.21 0 12 0ZM12 2C13.1 2 14 2.9 14 4C14 4.87 13.38 5.6 12.5 5.85C12.22 5.98 12 6.27 12 6.5V9H10V6.5C10 6.27 9.78 5.98 9.5 5.85C8.62 5.6 8 4.87 8 4C8 2.9 8.9 2 10 2C11.1 2 12 2.9 12 2ZM10 17H14V20H10V17ZM12 15C11.45 15 11 14.55 11 14V9H13V14C13 14.55 12.55 15 12 15Z"/>
                                </svg>
                            </button>
                            
                            <button class="card-button prom-balloon active">
                                <!-- Prom Balloon Icon -->
                                <svg xmlns="http://www.w3.org/2000/svg" width="2500" height="2500" viewBox="0 0 24 24">
                                    <path fill="currentColor" d="M12 0C9.79 0 8 1.79 8 4C8 5.74 8.93 7.3 10.11 8.15L10 15C10 16.1 10.9 17 12 17C13.1 17 14 16.1 14 15V8.15C15.07 7.3 16 5.74 16 4C16 1.79 14.21 0 12 0ZM12 2C13.1 2 14 2.9 14 4C14 4.87 13.38 5.6 12.5 5.85C12.22 5.98 12 6.27 12 6.5V9H10V6.5C10 6.27 9.78 5.98 9.5 5.85C8.62 5.6 8 4.87 8 4C8 2.9 8.9 2 10 2C11.1 2 12 2.9 12 2ZM10 17H14V20H10V17ZM12 15C11.45 15 11 14.55 11 14V9H13V14C13 14.55 12.55 15 12 15Z"/>
                                </svg>
                            </button>
                            
                        </div>
                    </div>
                    <div class="payments">
                        <div class="payment">
                            <div class="card green">
                                <span>01/22</span>
                                <span>
                                    •••• 4012
                                </span>
                            </div>
                            <div class="payment-details">
                                <h3>Event 1</h3>
                                <div>
                                    <span>2,110</span>
                                    <button class="icon-button">
                                        <i class="ph-caret-right-bold"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="payment">
                            <div class="card olive">
                                <span>12/23</span>
                                <span>
                                    •••• 2228
                                </span>
                            </div>
                            <div class="payment-details">
                                <h3>Event 2</h3>
                                <div>
                                    <span>5,621</span>
                                    <button class="icon-button">
                                        <i class="ph-caret-right-bold"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="payment">
                            <div class="card gray">
                                <span>03/22</span>
                                <span>
                                    •••• 5214
                                </span>
                            </div>
                            <div class="payment-details">
                                <h3>Event 3</h3>
                                <div>
                                    <span>3,473</span>
                                    <button class="icon-button">
                                        <i class="ph-caret-right-bold"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="faq">
                        <p>Most frequently asked questions</p>
                        <div>
                            <label>Question</label>
                            <input type="text" placeholder="Type here">
                        </div>
                    </div>
                    <div class="payment-section-footer">
                        <button class="save-button">
                            Save
                        </button>
                        <button class="settings-button">
                            <i class="ph-gear"></i>
                            <span>More settings</span>
                        </button>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>

    <script>
        let currentPage = 0;
        const tilesContainer = document.getElementById("tiles");
        const tileCount = document.querySelectorAll(".tile").length;
        const tilesWrapper = document.querySelector(".tiles-wrapper");
    
        function changePage(direction) {
            currentPage += direction;
    
            // Ensure the page wraps around (circular behavior)
            if (currentPage < 0) {
                currentPage = tileCount - 1; // Go to last page
            } else if (currentPage >= tileCount) {
                currentPage = 0; // Go to first page
            }
    
            // Apply circular rotation for smooth animation
            const angle = -currentPage * 360 / tileCount; // Calculate rotation angle
            tilesWrapper.style.transform = `rotate(${angle}deg)`;
        }
    
        document.addEventListener("DOMContentLoaded", () => {
            const tiles = document.querySelectorAll(".tile");
            const tilesPerPage = 3;
            
            const updateTilesVisibility = () => {
                tiles.forEach((tile, index) => {
                    const start = currentPage * tilesPerPage;
                    const end = start + tilesPerPage;
                    tile.style.display = index >= start && index < end ? "block" : "none";
                });
            };
            
            window.changePage = (direction) => {
                const maxPage = Math.ceil(tiles.length / tilesPerPage) - 1;
                currentPage = Math.max(0, Math.min(maxPage, currentPage + direction));
                updateTilesVisibility();
            };
            
            // Initialize the first page
            updateTilesVisibility();
        });
    
        // Show success message for certain actions
        const successMessage = document.getElementById('success-message');
        if (successMessage) {
            successMessage.classList.add('show');
            setTimeout(function() {
                successMessage.classList.remove('show');  // Fade-out
            }, 3000);
        }
    
        // Function to handle tab switching
        function showTab(tabId) {
            // Hide all tab-content panels
            const allTabs = document.querySelectorAll('.tab-content');
            allTabs.forEach(tab => {
                tab.style.display = 'none';
            });
    
            // Show the selected panel
            const targetTab = document.getElementById(tabId);
            if (targetTab) {
                targetTab.style.display = 'block';
            }
    
            // Remove active class from all sidebar links
            const sidebarLinks = document.querySelectorAll('.navigation .tab-link');
            sidebarLinks.forEach(link => {
                link.classList.remove('active');
            });
    
            // Add active class to the clicked sidebar link
            const activeSidebarLink = document.querySelector(`.navigation .tab-link[onclick="showTab('${tabId}')"]`);
            if (activeSidebarLink) {
                activeSidebarLink.classList.add('active');
            }
    
            // Remove active class from all header tabs
            const headerTabs = document.querySelectorAll('.app-header-navigation .tab-link');
            headerTabs.forEach(tab => {
                tab.classList.remove('active');
            });
    
            // Add active class to the corresponding header tab
            const activeHeaderTab = document.querySelector(`.app-header-navigation .tab-link[onclick="showTab('${tabId}')"]`);
            if (activeHeaderTab) {
                activeHeaderTab.classList.add('active');
            }
        }
    
        // Initialize default view
        document.addEventListener('DOMContentLoaded', () => {
            showTab('dashboard');
        });
    
        // Function to update time continuously
        function changeTime() {
            var hour = moment().format("HH");
            var minute = moment().format("mm");
            var second = moment().format("ss");
    
            // Update the digits
            document.getElementById("hour-1").setAttribute("class", "num-" + hour.substr(0, 1));
            document.getElementById("hour-2").setAttribute("class", "num-" + hour.substr(1, 1));
            document.getElementById("minute-1").setAttribute("class", "num-" + minute.substr(0, 1));
            document.getElementById("minute-2").setAttribute("class", "num-" + minute.substr(1, 1));
            document.getElementById("second-1").setAttribute("class", "num-" + second.substr(0, 1));
            document.getElementById("second-2").setAttribute("class", "num-" + second.substr(1, 1));
    
            // Call the function again after 1 second
            setTimeout(changeTime, 1000);
        }
    
        // Initialize the clock
        changeTime();
    
        // Reset attendance handler
        document.getElementById('resetAttendanceButton').addEventListener('click', function (event) {
            event.preventDefault();  // Prevent the form from submitting the traditional way
    
            const csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;
            const notification = document.getElementById('notification');
            const body = document.body; // Access the body element
    
            fetch("{% url 'reset_attendance' %}", {
                method: "POST",
                headers: {
                    "X-CSRFToken": csrfToken,
                    "Content-Type": "application/json",
                },
                body: JSON.stringify({}) // Send an empty body, but you can modify it as needed
            })
            .then(response => response.json())  // Parse JSON response
            .then(data => {
                if (data.success) {
                    notification.textContent = "Attendance has been reset for all attendees.";
                    notification.classList.remove('hidden');
                    notification.classList.add('visible');
                    body.classList.add('blur-background'); // Add blur to background
    
                    setTimeout(() => {
                        notification.classList.remove('visible');
                        notification.classList.add('hidden');
                        body.classList.remove('blur-background'); // Remove blur from background
                    }, 2000); // Hide notification after 2 seconds
                } else {
                    console.error("Failed to reset attendance");
                }
            })
            .catch(error => console.error("Error:", error));
        });
    
        // Handling whitelist form submission via AJAX
        document.addEventListener("DOMContentLoaded", function () {
            const whitelistForm = document.getElementById('whitelistForm'); // Now matches the form in the HTML
            if (whitelistForm) {
                const whitelistSuccessMessageDiv = document.getElementById('whitelistSuccessMessage');
                const whitelistErrorMessageDiv = document.getElementById('whitelistErrorMessages');
        
                whitelistForm.addEventListener('submit', function (event) {
                    event.preventDefault();  // Prevent the default form submission
                    const formData = new FormData(whitelistForm);
        
                    fetch(whitelistForm.action, {
                        method: 'POST',
                        body: formData,
                    })
                    .then(response => response.json())
                    .then(data => {
                        if (whitelistErrorMessageDiv) whitelistErrorMessageDiv.style.display = 'none';
        
                        if (data.status === 'success') {
                            if (whitelistSuccessMessageDiv) {
                                whitelistSuccessMessageDiv.querySelector('ul').innerHTML = `<li>${data.message}</li>`;
                                whitelistSuccessMessageDiv.style.display = 'block';
                            }
        
                            const newEmail = data.message.split(' ')[0]; // Extract email
                            const newEntryHtml = `
                                <article class="tile">
                                    <div class="tile-header">
                                        <i class="ph-lightning-light"></i>
                                        <h3><span>${newEmail}</span></h3>
                                    </div>
                                </article>`;
                            const tilesContainer = document.getElementById('tiles'); // Ensure this matches the HTML
                            if (tilesContainer) tilesContainer.innerHTML += newEntryHtml;
        
                            setTimeout(() => {
                                if (whitelistSuccessMessageDiv) whitelistSuccessMessageDiv.style.display = 'none';
                            }, 3000);
                        } else {
                            let errorMessages = data.errors.map(error => `<li>${error}</li>`).join('');
                            if (whitelistErrorMessageDiv) {
                                whitelistErrorMessageDiv.querySelector('ul').innerHTML = errorMessages;
                                whitelistErrorMessageDiv.style.display = 'block';
                            }
                        }
                    })
                    .catch(error => {
                        console.error('Error submitting the form:', error);
                    });
                });
            }
        });        
        
        function fetchAttendees() {
            fetch("{% url 'get_attendees_status' %}")
                .then(response => response.json())
                .then(data => {
                    let attendeeList = document.querySelector('.attendee-list');
                    attendeeList.innerHTML = ''; 
        
                    data.attendees.forEach(attendee => {
                        const li = document.createElement('li');
                        li.classList.add('attendee-item');
                        li.innerHTML = `
                            <span class="attendee-name-container">
                                <span class="attendee-name">${attendee.first_name} ${attendee.last_name}</span>
                                <div class="status-indicator ${attendee.is_present ? 'present' : 'absent'}"></div>
                            </span>
                        `;
                        attendeeList.appendChild(li);
                    });
                });
        }        
        
        setInterval(fetchAttendees, 5000);
    
        
    </script>    

</body>
</html>